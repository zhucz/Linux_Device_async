//完成量
//1.定义完成量
struct completion my_completion;

//2.初始化完成量
init_completion(&my_completion);
reinit_completion(&my_completion);


//3.等待完成量
//下列函数用于等待一个完成量被唤醒
void wait_for_completion(struct completion *c);


//4.唤醒完成量
//下面两个函数用于唤醒完成量
void complete(struct completion *c); //只唤醒一个等待的执行单元
void complete_all(struct completion *c);//释放所有等待同一完成量的执行单元



//完成量用于同步的流程一般如下：
进程P1					进程P2
代码区C1;					wait_for_completion(&done);
complete(&done);
						代码区C2;






































































































































































































